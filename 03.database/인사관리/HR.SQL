CREATE TABLE MYSCHEMA.EMPLOYEES (
	EMP_ID NUMBER(5) NOT NULL,
	EMP_NAME VARCHAR2(20) NOT NULL,
	EMP_SSN VARCHAR2(13) NOT NULL,
	EMP_TEL VARCHAR2(20),
	EMP_HIRE DATE NOT NULL,
	EMP_PAY INTEGER,
	DEPT_ID NUMBER(4) NOT NULL
);

COMMENT ON TABLE MYSCHEMA.EMPLOYEES IS '사원테이블';

COMMENT ON COLUMN MYSCHEMA.EMPLOYEES.EMP_ID IS '사원번호';

COMMENT ON COLUMN MYSCHEMA.EMPLOYEES.EMP_NAME IS '사원이름';

COMMENT ON COLUMN MYSCHEMA.EMPLOYEES.EMP_SSN IS '주민번호';

COMMENT ON COLUMN MYSCHEMA.EMPLOYEES.EMP_TEL IS '전화번호';

COMMENT ON COLUMN MYSCHEMA.EMPLOYEES.EMP_HIRE IS '입사일자';

COMMENT ON COLUMN MYSCHEMA.EMPLOYEES.EMP_PAY IS '급여';

COMMENT ON COLUMN MYSCHEMA.EMPLOYEES.DEPT_ID IS '부서번호';

CREATE UNIQUE INDEX MYSCHEMA.PK_EMPLOYEES
	ON MYSCHEMA.EMPLOYEES (
		EMP_ID ASC
	);

ALTER TABLE MYSCHEMA.EMPLOYEES
	ADD
		CONSTRAINT PK_EMPLOYEES
		PRIMARY KEY (
			EMP_ID
		);

CREATE TABLE MYSCHEMA.DEPARTEMENTS (
	DEPT_ID NUMBER(4) NOT NULL,
	DEPT_NAME VARCHAR2(30) NOT NULL,
	DEPT_LOC VARCHAR2(30)
);

COMMENT ON TABLE MYSCHEMA.DEPARTEMENTS IS '부서테이블';

COMMENT ON COLUMN MYSCHEMA.DEPARTEMENTS.DEPT_ID IS '부서번호';

COMMENT ON COLUMN MYSCHEMA.DEPARTEMENTS.DEPT_NAME IS '부서이름';

COMMENT ON COLUMN MYSCHEMA.DEPARTEMENTS.DEPT_LOC IS '부서위치';

CREATE UNIQUE INDEX MYSCHEMA.PK_DEPARTEMENTS
	ON MYSCHEMA.DEPARTEMENTS (
		DEPT_ID ASC
	);

ALTER TABLE MYSCHEMA.DEPARTEMENTS
	ADD
		CONSTRAINT PK_DEPARTEMENTS
		PRIMARY KEY (
			DEPT_ID
		);

CREATE TABLE MYSCHEMA.FAMILIES (
	EMP_ID NUMBER(5) NOT NULL,
	FAM_REL NUMBER(2) NOT NULL,
	FAM_NAME VARCHAR2(20) NOT NULL
);

COMMENT ON TABLE MYSCHEMA.FAMILIES IS '가족사항';

COMMENT ON COLUMN MYSCHEMA.FAMILIES.EMP_ID IS '사원번호';

COMMENT ON COLUMN MYSCHEMA.FAMILIES.FAM_REL IS '관계';

COMMENT ON COLUMN MYSCHEMA.FAMILIES.FAM_NAME IS '이름';

CREATE UNIQUE INDEX MYSCHEMA.PK_FAMILIES
	ON MYSCHEMA.FAMILIES (
		EMP_ID ASC,
		FAM_REL ASC
	);

ALTER TABLE MYSCHEMA.FAMILIES
	ADD
		CONSTRAINT PK_FAMILIES
		PRIMARY KEY (
			EMP_ID,
			FAM_REL
		);

ALTER TABLE MYSCHEMA.EMPLOYEES
	ADD
		CONSTRAINT FK_DEPARTEMENTS_TO_EMPLOYEES
		FOREIGN KEY (
			DEPT_ID
		)
		REFERENCES MYSCHEMA.DEPARTEMENTS (
			DEPT_ID
		);

ALTER TABLE MYSCHEMA.FAMILIES
	ADD
		CONSTRAINT FK_EMPLOYEES_TO_FAMILIES
		FOREIGN KEY (
			EMP_ID
		)
		REFERENCES MYSCHEMA.EMPLOYEES (
			EMP_ID
		);